{"ast":null,"code":"//import {RecipeLink} from '../components/RecipeLink'\nexport async function getAllRecipe(page_num, api_key) {\n  let url = `https://internship-recipe-api.ckpd.co/recipes?page=${page_num}`;\n  const response = await fetch(url, {\n    headers: {\n      \"x-api-key\": api_key\n    }\n  });\n\n  if (!response.ok) {\n    const dammy = {\n      recipes: [],\n      links: {}\n    };\n    return dammy;\n  }\n\n  const recipe = await response.json();\n  return recipe;\n}","map":{"version":3,"sources":["/Users/yusuke/naist/intern/cookpad/sakai-spring-internship-2021-recipe-site/lib/get_all_recipes.ts"],"names":["getAllRecipe","page_num","api_key","url","response","fetch","headers","ok","dammy","recipes","links","recipe","json"],"mappings":"AACA;AAYA,OAAO,eAAeA,YAAf,CAA4BC,QAA5B,EAA+CC,OAA/C,EAAmF;AACtF,MAAIC,GAAG,GAAI,sDAAqDF,QAAS,EAAzE;AACA,QAAMG,QAAQ,GAAG,MAAMC,KAAK,CAC1BF,GAD0B,EAE1B;AAACG,IAAAA,OAAO,EAAE;AAAC,mBAAcJ;AAAf;AAAV,GAF0B,CAA5B;;AAIA,MAAG,CAACE,QAAQ,CAACG,EAAb,EAAiB;AACf,UAAMC,KAAgB,GAAG;AACvBC,MAAAA,OAAO,EAAE,EADc;AAEvBC,MAAAA,KAAK,EAAE;AAFgB,KAAzB;AAIA,WAAOF,KAAP;AACD;;AACD,QAAMG,MAAM,GAAG,MAAMP,QAAQ,CAACQ,IAAT,EAArB;AACA,SAAOD,MAAP;AACD","sourcesContent":["import { Recipe } from '../types/recipe'\n//import {RecipeLink} from '../components/RecipeLink'\n\nexport type link = {\n    next?: string;\n    prev?: string;\n}\n\nexport type Response ={\n    recipes: Recipe[];\n    links: link;\n}\n\nexport async function getAllRecipe(page_num: number,  api_key: string): Promise<Response> {\n    let url = `https://internship-recipe-api.ckpd.co/recipes?page=${page_num}`;\n    const response = await fetch(\n      url,\n      {headers: {\"x-api-key\" : api_key}}\n    );\n    if(!response.ok) {\n      const dammy : Response = {\n        recipes: [] as Recipe[],\n        links: {} as link,\n      }\n      return dammy;\n    }\n    const recipe = await response.json();\n    return recipe as Response;\n  }"]},"metadata":{},"sourceType":"module"}